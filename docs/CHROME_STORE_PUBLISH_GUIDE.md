# Chrome Web Store 公開ガイド

このガイドでは、YouTube Shorts BlockerをChrome Web Storeに公開する手順を説明します。

## 事前準備

### 1. 開発者アカウントの作成

1. [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole) にアクセス
2. Googleアカウントでログイン
3. 初回登録料 $5 USD を支払い（一度だけ必要）
4. 開発者情報を入力

### 2. 必要なファイルの準備

#### ✅ 既に準備済み
- [x] manifest.json (v3対応)
- [x] アイコン (16x16, 32x32, 48x48, 128x128)
- [x] ソースコード (background.js, content.js, popup.js, lock_screen.js)
- [x] プライバシーポリシー (PRIVACY_POLICY.md)
- [x] ストア掲載情報 (docs/CHROME_STORE_LISTING.md)

#### ⚠️ 追加で必要
- [ ] スクリーンショット (最低1枚、推奨4-5枚)
- [ ] ZIPファイル（公開用パッケージ）

## 公開手順

### ステップ1: ZIPファイルの作成

```bash
# プロジェクトルートで実行
npm run build:extension
```

または手動で作成:
```bash
zip -r youtube-shorts-blocker.zip manifest.json background.js content.js lock_screen.js popup.html popup.css popup.js icons/
```

### ステップ2: スクリーンショットの準備

以下のスクリーンショットを作成（1280x800 または 640x400ピクセル）：

1. **ポップアップ画面**
   - 拡張機能のアイコンをクリックした状態
   - 視聴時間と設定が表示されている画面

2. **設定画面**
   - 時間制限の設定部分
   - スライダーで時間を調整している様子

3. **ロック画面**
   - 制限時間に達した時の全画面表示
   - メッセージとロック解除ボタン

4. **通知メッセージ**
   - 警告メッセージが表示されている状態

### ステップ3: Chrome Web Storeへのアップロード

1. [Developer Dashboard](https://chrome.google.com/webstore/devconsole) にアクセス

2. 「新しいアイテム」をクリック

3. **パッケージのアップロード**
   - 作成したZIPファイルをアップロード
   - アップロード成功を確認

4. **商品情報の入力**
   
   **基本情報:**
   - 名前: `YouTube Shorts Blocker`
   - 概要: `YouTubeショート動画の視聴時間を制限し、健全なブラウジング習慣をサポートします`
   - カテゴリ: `生産性向上`
   - 言語: `日本語`を主要言語に設定

   **説明文:**
   - `docs/CHROME_STORE_LISTING.md`の内容をコピー＆ペースト

5. **グラフィックアセット**
   - スクリーンショットをアップロード（最低1枚）
   - プロモーション画像（オプション）

6. **追加情報**
   - **単一用途**: 「YouTubeショート動画の視聴時間を制限する」
   - **ホスト許可の正当性**: 「YouTubeショート動画のURLを検出し、視聴時間を追跡するため」
   - **リモートコード**: 使用していない
   
7. **プライバシー**
   - プライバシーポリシーURL: GitHubリポジトリ内の`PRIVACY_POLICY.md`へのリンク
   - データ使用の開示:
     - ✅ 個人を特定しない形でユーザーアクティビティを収集
     - ❌ 個人情報の収集なし
     - ❌ 健康情報の収集なし
     - ❌ 財務情報の収集なし

8. **配布**
   - 公開設定: `公開`
   - 地域: すべての地域、または特定地域を選択

### ステップ4: レビューへの提出

1. すべての必須項目が入力されていることを確認
2. 「レビューのために提出」をクリック
3. レビュー完了まで待機（通常24-48時間）

## レビューでよくある指摘事項と対策

### 1. 権限の正当性
- 各権限の使用理由を明確に説明
- 最小限の権限のみ要求していることを確認

### 2. プライバシーポリシー
- 明確で理解しやすい内容
- 収集するデータと使用目的を明記

### 3. 単一用途の明確化
- 拡張機能の目的を簡潔に説明
- 追加機能は含めない

### 4. ユーザーエクスペリエンス
- 直感的なUI
- エラーハンドリング
- 適切なフィードバック

## 公開後の管理

### バージョン更新

1. コードを更新
2. `manifest.json`のバージョンを更新
3. 新しいZIPファイルを作成
4. Developer Dashboardから更新版をアップロード

### ユーザーフィードバックへの対応
- レビューを定期的に確認
- バグ報告に迅速に対応
- 機能リクエストを検討

### 統計の確認
- インストール数
- アクティブユーザー数
- クラッシュレポート

## トラブルシューティング

### レビューが却下された場合

1. **却下理由を確認**
   - メールで詳細な理由が送られてくる
   - Developer Dashboardでも確認可能

2. **問題を修正**
   - 指摘された問題を解決
   - 必要に応じてコードやポリシーを更新

3. **再提出**
   - 修正内容を明記して再提出
   - 追加の説明が必要な場合はレビュアーへのメモに記載

### よくある問題

- **権限が多すぎる**: 不要な権限を削除
- **説明が不明確**: より具体的な説明に更新
- **プライバシーポリシーがない**: 必ず追加
- **コードの問題**: セキュリティやパフォーマンスの問題を修正

## 参考リンク

- [Chrome Web Store開発者ドキュメント](https://developer.chrome.com/docs/webstore/)
- [公開ポリシー](https://developer.chrome.com/docs/webstore/program_policies/)
- [ベストプラクティス](https://developer.chrome.com/docs/webstore/best_practices/)
- [レビューガイドライン](https://developer.chrome.com/docs/webstore/review-process/)