<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Shorts Blocker</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1><img src="icons/icon32.png" alt="YouTube Shorts Blocker" class="header-icon">YouTube Shorts Blocker</h1>
    </header>

    <!-- タイマーセクション -->
    <section class="timer-section">
      <div class="timer-display">
        <div id="remainingTime" class="remaining-time">停止中</div>
      </div>
      
      <div class="timer-controls">
        <label class="setting-label">設定時間:</label>
        <div class="time-input-group">
          <button id="decreaseTime" class="time-btn">-</button>
          <input type="number" id="timerMinutes" class="time-input" min="5" max="720" step="5">
          <span class="time-unit">分</span>
          <button id="increaseTime" class="time-btn">+</button>
        </div>
      </div>
    </section>

    <!-- 情報表示セクション -->
    <section class="info-section">
      <div class="daily-stats">
        <span class="label">本日の視聴:</span>
        <span id="dailyViewTime" class="value">0時間0分</span>
      </div>
      <div class="daily-stats">
        <span class="label">本日の続行回数:</span>
        <span id="extensionCount" class="value">0回</span>
      </div>
      <div class="daily-stats">
        <span class="label">連続続行回数:</span>
        <span id="consecutiveExtensionCount" class="value">0回</span>
      </div>
    </section>

    <!-- 履歴セクション -->
    <section class="history-section">
      <div class="section-header">
        <h3 class="section-title">視聴履歴</h3>
        <button id="clearHistoryBtn" class="clear-history-btn">履歴をクリア</button>
      </div>
      <div id="historyList" class="history-list">
        <!-- 履歴アイテムはJavaScriptで動的に追加 -->
      </div>
    </section>

    <!-- 時間切れ時のアクション設定 -->
    <section class="action-section">
      <label class="setting-label">時間切れ時のアクション:</label>
      <div class="segmented-buttons">
        <button class="segment-btn segment-btn-active" data-action="lock">
          画面をロック
        </button>
        <button class="segment-btn" data-action="redirect">
          YouTubeトップへ
        </button>
      </div>
    </section>

    <!-- コントロールセクション -->
    <section class="control-section">
      <button id="tempDisableBtn" class="control-btn">
        今回のみタイマーを起動しない
      </button>
      
      <div class="toggle-group">
        <label class="toggle-label">
          <span>今日はタイマーをOFFにする</span>
          <div class="toggle-switch">
            <input type="checkbox" id="todayOffToggle">
            <span class="slider"></span>
          </div>
        </label>
      </div>
      
      <div class="toggle-group">
        <label class="toggle-label">
          <span>タイマー自動起動を常にOFFにする</span>
          <div class="toggle-switch">
            <input type="checkbox" id="alwaysOffToggle">
            <span class="slider"></span>
          </div>
        </label>
      </div>
      
    </section>

    <!-- デバッグモードセクション（画面最下部の別セクション） -->
    <section class="debug-section" id="debugSection">
      <label class="setting-label">デバッグモード</label>
      <div class="toggle-group">
        <label class="toggle-label">
          <span>デバッグモードを有効にする</span>
          <div class="toggle-switch">
            <input type="checkbox" id="debugModeToggle">
            <span class="slider"></span>
          </div>
        </label>
      </div>
      
      <div id="debugControls" class="debug-controls" style="display: none;">
        <div class="debug-info">
          <p class="debug-note">※ デバッグモードでは0.1分単位で時間設定が可能です</p>
        </div>
        <button id="forceLockBtn" class="control-btn force-lock-btn">
          ロック画面を強制起動
        </button>
        <button id="exportDebugBtn" class="control-btn debug-export-btn">
          デバッグ情報をエクスポート
        </button>
      </div>
    </section>
  </div>

  <script src="popup.js"></script>
</body>
</html>
